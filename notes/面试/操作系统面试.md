## 操作系统面试

## 1. 请简述进程，线程及程序三者有什么区别

程序：我们编译好的可执行的二进制文件

进程：程序在内存中的镜像，程序跑起来就在内存中了

线程：进程内的执行单元，操作系统的调度最小单元

都是为了增加程序的并发度，线程间切换的消耗远远小于进程间的消耗，进程切换需要保存旧的资源，用于不同的场景，线程只需要一些简单的寄存器数据保存。进程间相互独立，线程间，一个线程会影响进程的死亡。

## 2. 请简述你所知道的`fork()`函数，以及在多进程编程中需要注意的事项

fork用于创建一个新的进程，有别于其他函数，一次调用两次返回值，子进程一个值，父进程一个值，fork出的子进程会拷贝父进程的内容，公用的代码段，子进程会拷贝父进程的堆栈段和数据段到自己的空间，公用的代码段，fork会对程序产生影响，僵尸进程的生成，子进程结束，父进程没结束，被称为僵尸进程，任然会进行占用资源，wait会挂起等待，结束的时候用signal回收，避免无为的挂起，反之孤儿进程，系统进程托管收养与回收。

## 3. 请回答：进程有哪些状态，它们是如何相互切换的.

![image-20210221104049937](http://test-fangsong-imgsubmit.oss-cn-beijing.aliyuncs.com/img/image-20210221104049937.png)

![image-20210221104124552](http://test-fangsong-imgsubmit.oss-cn-beijing.aliyuncs.com/img/image-20210221104124552.png)